{"ast":null,"code":"import Vue from \"vue\";\nimport Router from \"vue-router\";\nimport store from \"../store\";\nimport TopIndex from \"../pages/top\";\nimport SubordinateIndex from \"../pages/subordinates\";\nimport SubordinateDetail from \"../pages/subordinate\";\nimport RegisterIndex from \"../pages/register/index\";\nimport LoginIndex from \"../pages/login/index\";\nVue.use(Router);\nvar router = new Router({\n  mode: \"history\",\n  routes: [{\n    path: \"/\",\n    component: TopIndex,\n    name: \"TopIndex\"\n  }, {\n    path: \"/subordinates\",\n    component: SubordinateIndex,\n    name: \"SubordinateIndex\",\n    meta: {\n      requiredAuth: true\n    }\n  }, {\n    path: \"/register\",\n    component: RegisterIndex,\n    name: \"RegisterIndex\"\n  }, {\n    path: \"/login\",\n    component: LoginIndex,\n    name: \"LoginIndex\"\n  }, {\n    path: \"/:id\",\n    component: SubordinateDetail,\n    name: \"SubordinateDetail\"\n  }]\n});\nrouter.beforeEach(function (to, from, next) {\n  store.dispatch(\"users/fetchAuthUser\").then(function (authUser) {\n    if (to.matched.some(function (record) {\n      return record.meta.requiredAuth;\n    }) && !authUser) {\n      next({\n        name: \"LoginIndex\"\n      });\n    } else {\n      next();\n    }\n  });\n});\nexport default router;","map":{"version":3,"names":["Vue","Router","store","TopIndex","SubordinateIndex","SubordinateDetail","RegisterIndex","LoginIndex","use","router","mode","routes","path","component","name","meta","requiredAuth","beforeEach","to","from","next","dispatch","then","authUser","matched","some","record"],"sources":["/app/app/javascript/router/index.js"],"sourcesContent":["import Vue from \"vue\";\nimport Router from \"vue-router\";\nimport store from \"../store\";\n\nimport TopIndex from \"../pages/top\";\nimport SubordinateIndex from \"../pages/subordinates\";\nimport SubordinateDetail from \"../pages/subordinate\";\nimport RegisterIndex from \"../pages/register/index\";\nimport LoginIndex from \"../pages/login/index\";\n\nVue.use(Router);\n\nconst router = new Router({\n  mode: \"history\",\n  routes: [\n    {\n      path: \"/\",\n      component: TopIndex,\n      name: \"TopIndex\",\n    },\n    {\n      path: \"/subordinates\",\n      component: SubordinateIndex,\n      name: \"SubordinateIndex\",\n      meta: { requiredAuth: true },\n    },\n    {\n      path: \"/register\",\n      component: RegisterIndex,\n      name: \"RegisterIndex\",\n    },\n    {\n      path: \"/login\",\n      component: LoginIndex,\n      name: \"LoginIndex\",\n    },\n    {\n      path: \"/:id\",\n      component: SubordinateDetail,\n      name: \"SubordinateDetail\",\n    },\n  ],\n});\n\nrouter.beforeEach((to, from, next) => {\n  store.dispatch(\"users/fetchAuthUser\").then((authUser) => {\n    if (to.matched.some((record) => record.meta.requiredAuth) && !authUser) {\n      next({ name: \"LoginIndex\" });\n    } else {\n      next();\n    }\n  });\n});\n\nexport default router;\n"],"mappings":"AAAA,OAAOA,GAAG,MAAM,KAAK;AACrB,OAAOC,MAAM,MAAM,YAAY;AAC/B,OAAOC,KAAK,MAAM,UAAU;AAE5B,OAAOC,QAAQ,MAAM,cAAc;AACnC,OAAOC,gBAAgB,MAAM,uBAAuB;AACpD,OAAOC,iBAAiB,MAAM,sBAAsB;AACpD,OAAOC,aAAa,MAAM,yBAAyB;AACnD,OAAOC,UAAU,MAAM,sBAAsB;AAE7CP,GAAG,CAACQ,GAAG,CAACP,MAAM,CAAC;AAEf,IAAMQ,MAAM,GAAG,IAAIR,MAAM,CAAC;EACxBS,IAAI,EAAE,SAAS;EACfC,MAAM,EAAE,CACN;IACEC,IAAI,EAAE,GAAG;IACTC,SAAS,EAAEV,QAAQ;IACnBW,IAAI,EAAE;EACR,CAAC,EACD;IACEF,IAAI,EAAE,eAAe;IACrBC,SAAS,EAAET,gBAAgB;IAC3BU,IAAI,EAAE,kBAAkB;IACxBC,IAAI,EAAE;MAAEC,YAAY,EAAE;IAAK;EAC7B,CAAC,EACD;IACEJ,IAAI,EAAE,WAAW;IACjBC,SAAS,EAAEP,aAAa;IACxBQ,IAAI,EAAE;EACR,CAAC,EACD;IACEF,IAAI,EAAE,QAAQ;IACdC,SAAS,EAAEN,UAAU;IACrBO,IAAI,EAAE;EACR,CAAC,EACD;IACEF,IAAI,EAAE,MAAM;IACZC,SAAS,EAAER,iBAAiB;IAC5BS,IAAI,EAAE;EACR,CAAC;AAEL,CAAC,CAAC;AAEFL,MAAM,CAACQ,UAAU,CAAC,UAACC,EAAE,EAAEC,IAAI,EAAEC,IAAI,EAAK;EACpClB,KAAK,CAACmB,QAAQ,CAAC,qBAAqB,CAAC,CAACC,IAAI,CAAC,UAACC,QAAQ,EAAK;IACvD,IAAIL,EAAE,CAACM,OAAO,CAACC,IAAI,CAAC,UAACC,MAAM;MAAA,OAAKA,MAAM,CAACX,IAAI,CAACC,YAAY;IAAA,EAAC,IAAI,CAACO,QAAQ,EAAE;MACtEH,IAAI,CAAC;QAAEN,IAAI,EAAE;MAAa,CAAC,CAAC;IAC9B,CAAC,MAAM;MACLM,IAAI,EAAE;IACR;EACF,CAAC,CAAC;AACJ,CAAC,CAAC;AAEF,eAAeX,MAAM"},"metadata":{},"sourceType":"module"}